/* Calendar styles using Tailwind autumn theme */
.calendar :global(.rbc-calendar) {
  color: var(--color-autumn-700);
}

:global(.dark) .calendar :global(.rbc-calendar) {
  color: var(--color-autumn-100);
}

/* Override the off-range background color */
.calendar :global(.rbc-off-range-bg) {
  background: var(--color-autumn-100);
}

:global(.dark) .calendar :global(.rbc-off-range-bg) {
  background: var(--color-autumn-900);
}

.calendar :global(.rbc-toolbar-label) {
    font-size: 2rem;
    font-weight: 600;
}

/* Override the button styles */
:global(.rbc-toolbar button) {
  color: var(--color-autumn-moss);
  border-color: var(--color-autumn-sage);
}

:global(.dark) .calendar :global(.rbc-toolbar button) {
  color: var(--color-autumn-100);
  border-color: var(--color-autumn-600);
}

.calendar :global(.rbc-toolbar button:hover) {
  background-color: var(--color-autumn-sage);
  color: var(--color-autumn-50);
  border-color: var(--color-autumn-leaf);
}

:global(.dark) .calendar :global(.rbc-toolbar button:hover) {
  background-color: var(--color-autumn-sage);
  color: var(--color-autumn-50);
  border-color: var(--color-autumn-leaf);
}

.calendar :global(.rbc-toolbar button.rbc-active) {
  background-color: var(--color-autumn-leaf);
  border-color: var(--color-autumn-leaf);
  color: var(--color-autumn-100);
}

:global(.dark) .calendar :global(.rbc-toolbar button.rbc-active) {
  background-color: var(--color-autumn-moss);
  border-color: var(--color-autumn-moss);
}

/* Override today's highlight */
.calendar :global(.rbc-today) {
  background-color: unset;
}

:global(.dark) .calendar :global(.rbc-today) {
  background-color: unset;
}

.calendar :global(.rbc-header.rbc-today) {
  background-color: var(--color-autumn-berry);
  color: var(--color-autumn-50);
}

/* Override event styles */
.calendar :global(.rbc-event) {
  background-color: var(--color-autumn-leaf);
  border-color: var(--color-autumn-moss);
}

:global(.dark) .calendar :global(.rbc-event) {
  background-color: var(--color-autumn-moss);
  border-color: var(--color-autumn-leaf);
}

:global(.rbc-event.rbc-selected) {
  background-color: var(--color-autumn-gold) !important;
}

:global(.dark) .calendar :global(.rbc-event.rbc-selected) {
  background-color: var(--color-autumn-500) !important;
}

/* Header cells */
.calendar :global(.rbc-header) {
  background-color: var(--color-autumn-50);
  color: var(--color-autumn-700);
  border-color: var(--color-autumn-200);
}

.calendar :global(.rbc-header + .rbc-header) {
  border-left: 1px solid var(--color-autumn-200);
}

:global(.dark) .calendar :global(.rbc-header) {
  background-color: var(--color-autumn-800);
  color: var(--color-autumn-100);
  border-color: var(--color-autumn-600);
}

:global(.dark) .calendar :global(.rbc-header + .rbc-header) {
  border-left: 1px solid var(--color-autumn-600);
}

/* Fix row misalignment */
.calendar :global(.rbc-row-bg) {
  right: 0;
}

/* Date cells */
.calendar :global(.rbc-date-cell) {
  color: var(--color-autumn-700);
}

@media (max-width: 440px) {
  .calendar :global(.rbc-date-cell) {
    text-align: center;
  }
}

:global(.dark) .calendar :global(.rbc-date-cell) {
  color: var(--color-autumn-100);
}

/* Day buttons inside date cells */
.calendar :global(.rbc-date-cell > .rbc-button-link) {
  padding: 0.5rem;
  border-radius: 50%;
  width: 2.5rem;
  height: 2.5rem;
}

.calendar :global(.rbc-button-link):hover,
.calendar :global(.rbc-button-link):focus,
.calendar :global(.rbc-button-link):active {
  background-color: var(--color-autumn-400);
  color: var(--color-autumn-50);
}

/* Month view grid */
:global(.rbc-month-view),
:global(.rbc-time-view) {
  border-color: var(--color-autumn-200);
}

:global(.dark) .calendar :global(.rbc-month-view),
:global(.dark) .calendar :global(.rbc-time-view) {
  border-color: var(--color-autumn-600);
}

/* Week view */
.calendar :global(.rbc-date-cell.rbc-now > .rbc-button-link) {
  background-color: var(--color-autumn-berry);
  color: var(--color-autumn-50);
}

.calendar :global(.rbc-header):hover {
  background-color: var(--color-autumn-400);
  color: var(--color-autumn-50);
}

/* Time slots */
.calendar :global(.rbc-timeslot-group) {
  border-color: var(--color-autumn-200);
}

:global(.dark) .calendar :global(.rbc-timeslot-group) {
  border-color: var(--color-autumn-600);
}

/* Time grid */
.calendar :global(.rbc-time-content) {
  border-color: var(--color-autumn-200);
}

:global(.dark) .calendar :global(.rbc-time-content) {
  border-color: var(--color-autumn-600);
}

/* Selected slot highlight */
.calendar :global(.rbc-slot-selection) {
  background-color: color-mix(
    in srgb,
    var(--color-autumn-gold) 50%,
    transparent
  );
}

:global(.dark) .calendar :global(.rbc-slot-selection) {
  background-color: color-mix(
    in srgb,
    var(--color-autumn-500) 50%,
    transparent
  );
}

/* Time header */
.calendar :global(.rbc-time-header.rbc-overflowing) {
  margin-right: 0 !important;
  border-right: 1px solid var(--color-autumn-200);
}

:global(.dark) .calendar :global(.rbc-time-header.rbc-overflowing) {
  border-right: 1px solid var(--color-autumn-600);
}

.calendar :global(.rbc-time-content > * + * > *) {
  border-left: 1px solid var(--color-autumn-200);
}

:global(.dark) .calendar :global(.rbc-time-content > * + * > *) {
  border-left: 1px solid var(--color-autumn-600);
}

.calendar :global(.rbc-day-slot .rbc-time-slot) {
  border-top: 1px solid var(--color-autumn-100);
}

:global(.dark) .calendar :global(.rbc-day-slot .rbc-time-slot) {
  border-top: 1px solid var(--color-autumn-800);
}

.calendar :global(.rbc-time-header-content) {
  border-color: var(--color-autumn-200);
}

:global(.dark) .calendar :global(.rbc-time-header-content) {
  border-color: var(--color-autumn-600);
}

/* Current time indicator */
.calendar :global(.rbc-current-time-indicator) {
  background-color: var(--color-autumn-berry);
}

:global(.dark) .calendar :global(.rbc-current-time-indicator) {
  background-color: var(--color-autumn-gold);
}

/* Day background borders */
.calendar :global(.rbc-day-bg + .rbc-day-bg) {
  border-left: 1px solid var(--color-autumn-200);
}

:global(.dark) .calendar :global(.rbc-day-bg + .rbc-day-bg) {
  border-left: 1px solid var(--color-autumn-600);
}

/* Month row borders */
.calendar :global(.rbc-month-row + .rbc-month-row) {
  border-top: 1px solid var(--color-autumn-200);
}

:global(.dark) .calendar :global(.rbc-month-row + .rbc-month-row) {
  border-top: 1px solid var(--color-autumn-600);
}

/* Active state overrides */
.calendar :global(.rbc-toolbar button:active),
.calendar :global(.rbc-toolbar button:focus) {
  background-color: var(--color-autumn-leaf) !important;
  border-color: var(--color-autumn-leaf) !important;
  color: var(--color-autumn-100) !important;
}

:global(.dark) .calendar :global(.rbc-toolbar button:active),
:global(.dark) .calendar :global(.rbc-toolbar button:focus) {
  background-color: var(--color-autumn-moss) !important;
  border-color: var(--color-autumn-leaf) !important;
  color: var(--color-autumn-100) !important;
}

.calendar :global(.rbc-toolbar button.rbc-active:active),
.calendar :global(.rbc-toolbar button.rbc-active:focus) {
  background-color: var(--color-autumn-leaf) !important;
  border-color: var(--color-autumn-moss) !important;
  color: var(--color-autumn-50) !important;
}

:global(.dark) .calendar :global(.rbc-toolbar button.rbc-active:active),
:global(.dark) .calendar :global(.rbc-toolbar button.rbc-active:focus) {
  background-color: var(--color-autumn-moss) !important;
  border-color: var(--color-autumn-leaf) !important;
  color: var(--color-autumn-50) !important;
}
